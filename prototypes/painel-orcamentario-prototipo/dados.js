var json = [
{
  "model": "20AE - Promoção da Assistência Farmacêutica e Insumos Estratégicos na Atenção Básica em Saúde",
  "osversion": "Dotação Atualizada",
  "batteryavg": "1810000000"
}, 
{
  "model": "20AH - Organização dos Serviços de Assistência Farmacêutica no SUS",
  "osversion": "Dotação Atualizada",
  "batteryavg": "88728508"
}, 

{
  "model": "20K5 - Apoio ao Uso de Plantas Medicinais e Fitoterápicos no SUS",
  "osversion": "Dotação Atualizada",
  "batteryavg": "9317387"
}, 
{
  "model": "20YR - Manutenção e Funcionamento do Programa Farmácia Popular do Brasil Pelo Sistema de Gratuidade",
  "osversion": "Dotação Atualizada",
  "batteryavg": "2040000000"
}, 
{
  "model": "20YS - Manutenção e Funcionamento do Programa Farmácia Popular do Brasil pelo Sistema de Co-pagamento",
  "osversion": "Dotação Atualizada",
  "batteryavg": "562353000"
}, 
{
  "model": "4368 - Promoção da Assistência Farmacêutica por meio da aquisição de medicamentos do Componente Estratégico",
  "osversion": "Dotação Atualizada",
  "batteryavg": "333000000"
}, 

{
  "model": "4705 - Apoio Financeiro para Aquisição e Distribuição de Medicamentos do Componente Especializado da Assistência Farmacêutica",
  "osversion": "Dotação Atualizada",
  "batteryavg": "5535000000"
}, 

{
  "model": "20AE - Promoção da Assistência Farmacêutica e Insumos Estratégicos na Atenção Básica em Saúde",
  "osversion": "Empenhado",
  "batteryavg": "504282824.58"
}, 
{
  "model": "20AH - Organização dos Serviços de Assistência Farmacêutica no SUS",
  "osversion": "Empenhado",
  "batteryavg": "7999948"
}, 

{
  "model": "20K5 - Apoio ao Uso de Plantas Medicinais e Fitoterápicos no SUS",
  "osversion": "Empenhado",
  "batteryavg": "0"
}, 
{
  "model": "20YR - Manutenção e Funcionamento do Programa Farmácia Popular do Brasil Pelo Sistema de Gratuidade",
  "osversion": "Empenhado",
  "batteryavg": "586211380.38"
}, 
{
  "model": "20YS - Manutenção e Funcionamento do Programa Farmácia Popular do Brasil pelo Sistema de Co-pagamento",
  "osversion": "Empenhado",
  "batteryavg": "140702249.16"
}, 
{
  "model": "4368 - Promoção da Assistência Farmacêutica por meio da aquisição de medicamentos do Componente Estratégico",
  "osversion": "Empenhado",
  "batteryavg": "57140093.97"
}, 

{
  "model": "4705 - Apoio Financeiro para Aquisição e Distribuição de Medicamentos do Componente Especializado da Assistência Farmacêutica",
  "osversion": "Empenhado",
  "batteryavg": "1752881924.67"
}, 



{
  "model": "20AE - Promoção da Assistência Farmacêutica e Insumos Estratégicos na Atenção Básica em Saúde",
  "osversion": "Liquidado",
  "batteryavg": "100"
}, 
{
  "model": "20AH - Organização dos Serviços de Assistência Farmacêutica no SUS",
  "osversion": "Liquidado",
  "batteryavg": "100"
}, 

{
  "model": "20K5 - Apoio ao Uso de Plantas Medicinais e Fitoterápicos no SUS",
  "osversion": "Liquidado",
  "batteryavg": "100"
}, 
{
  "model": "20YR - Manutenção e Funcionamento do Programa Farmácia Popular do Brasil Pelo Sistema de Gratuidade",
  "osversion": "Liquidado",
  "batteryavg": "100"
}, 
{
  "model": "20YS - Manutenção e Funcionamento do Programa Farmácia Popular do Brasil pelo Sistema de Co-pagamento",
  "osversion": "Liquidado",
  "batteryavg": "100"
}, 
{
  "model": "4368 - Promoção da Assistência Farmacêutica por meio da aquisição de medicamentos do Componente Estratégico",
  "osversion": "Liquidado",
  "batteryavg": "100"
}, 

{
  "model": "4705 - Apoio Financeiro para Aquisição e Distribuição de Medicamentos do Componente Especializado da Assistência Farmacêutica",
  "osversion": "Liquidado",
  "batteryavg": "100"
}, 


{
  "model": "20AE - Promoção da Assistência Farmacêutica e Insumos Estratégicos na Atenção Básica em Saúde",
  "osversion": "Pago",
  "batteryavg": "100"
}, 
{
  "model": "20AH - Organização dos Serviços de Assistência Farmacêutica no SUS",
  "osversion": "Pago",
  "batteryavg": "100"
}, 

{
  "model": "20K5 - Apoio ao Uso de Plantas Medicinais e Fitoterápicos no SUS",
  "osversion": "Pago",
  "batteryavg": "100"
}, 
{
  "model": "20YR - Manutenção e Funcionamento do Programa Farmácia Popular do Brasil Pelo Sistema de Gratuidade",
  "osversion": "Pago",
  "batteryavg": "100"
}, 
{
  "model": "20YS - Manutenção e Funcionamento do Programa Farmácia Popular do Brasil pelo Sistema de Co-pagamento",
  "osversion": "Pago",
  "batteryavg": "100"
}, 
{
  "model": "4368 - Promoção da Assistência Farmacêutica por meio da aquisição de medicamentos do Componente Estratégico",
  "osversion": "Pago",
  "batteryavg": "100"
}, 

{
  "model": "4705 - Apoio Financeiro para Aquisição e Distribuição de Medicamentos do Componente Especializado da Assistência Farmacêutica",
  "osversion": "Pago",
  "batteryavg": "100"
}, 
{
  "model": "20AE - Promoção da Assistência Farmacêutica e Insumos Estratégicos na Atenção Básica em Saúde",
  "osversion": "Disponível",
  "batteryavg": "1305717175.42"
}, 
{
  "model": "20AH - Organização dos Serviços de Assistência Farmacêutica no SUS",
  "osversion": "Disponível",
  "batteryavg": "80728560"
}, 

{
  "model": "20K5 - Apoio ao Uso de Plantas Medicinais e Fitoterápicos no SUS",
  "osversion": "Disponível",
  "batteryavg": "9164637"
}, 
{
  "model": "20YR - Manutenção e Funcionamento do Programa Farmácia Popular do Brasil Pelo Sistema de Gratuidade",
  "osversion": "Disponível",
  "batteryavg": "1445789218.62"
}, 
{
  "model": "20YS - Manutenção e Funcionamento do Programa Farmácia Popular do Brasil pelo Sistema de Co-pagamento",
  "osversion": "Disponível",
  "batteryavg": "421650750.84"
}, 
{
  "model": "4368 - Promoção da Assistência Farmacêutica por meio da aquisição de medicamentos do Componente Estratégico",
  "osversion": "Disponível",
  "batteryavg": "239770445.76"
}, 

{
  "model": "4705 - Apoio Financeiro para Aquisição e Distribuição de Medicamentos do Componente Especializado da Assistência Farmacêutica",
  "osversion": "Disponível",
  "batteryavg": "3490720529.31"
}, 
]

// Create categories object in order to remove duplicates
const cats = {}
json.forEach((o) => cats[o.model] = 1)
const categories = Object.keys(cats)

// Parse your data
let series = json.reduce((acc, o) => {
  	// Check if array already defined
  	if (acc[o.osversion] && acc[o.osversion].data) {
    	// Push to array new values
      acc[o.osversion].data.push({x: categories.indexOf(o.model), y: Number(o.batteryavg)})
    } else {
    	// Create new array with first value
    	acc[o.osversion] = { data: [{x: categories.indexOf(o.model), y: Number(o.batteryavg)}] }
    }
    return acc
  }, {})

// Convert object to array
series = Object.keys(series).map((key) => {
	series[key].name = key
  return series[key]
})

series = series.map(serie => {
	serie.data.sort((a, b) => a.x - b.x)
  return serie
})
// Chart options
const options = {
	xAxis: { categories: categories },
	chart: { type: 'column' },
         title: {
                        text: "Valores Atuais por Ação Orçamentária"
                    },
  yAxis: [{}],
   series: series
}

// Create chart
const chart = Highcharts.chart('container', options)